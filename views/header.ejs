<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="author" content="Adrian Gabardo" />
    <meta name="description" content="Adrian's work'" />
    <title>Booksy</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"></script>

    <script>
      // When an alert event is dispatched, listen for it and set it as the current toast
      window.addEventListener("alertDispatched", (event) => {
        const toastElement = document.getElementById("alert-toast");
        const toastHeaderElement = document.getElementById("alert-toast-header");
        const toastBodyElement = document.getElementById("alert-toast-body");

        if (!toastElement) return;

        if (toastHeaderElement) {
          toastHeaderElement.textContent = event.detail.header ?? "";
        }

        if (toastBodyElement) {
          toastBodyElement.textContent = event.detail.body ?? "";
        }

        const toast = new bootstrap.Toast(toastElement, { delay: 10000 });
        toast.show();
      });
    </script>
  </head>

  <body>
    <div class="toast-container position-fixed bottom-0 start-0 p-3">
      <div class="toast text-bg-light" id="alert-toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <strong class="me-auto" id="alert-toast-header"></strong>
          <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body" id="alert-toast-body"></div>
      </div>
    </div>
  </body>
</html>
